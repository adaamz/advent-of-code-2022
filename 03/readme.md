After few iterations it generated full code for part1 and it resulted in correc answer for final input.

For part2 it always returned wrong result even on example data.
